# Đây là file wrangler.toml đã sửa lỗi "require"
name = "veolagi"
main = "dist/main.js" # Vẫn trỏ đến file output của Webpack

# XÓA DÒNG 'format = "commonjs"' BỊ LỖI THỜI Ở ĐÂY

compatibility_date = "2025-11-01"
compatibility_flags = [ "nodejs_compat" ]

# [vars]
# VÍ DỤ: VEO_ENV = "production"

# --- THÊM PHẦN NÀY ĐỂ FIX LỖI ---
# Đây là cách mới để báo cho Cloudflare biết file của bạn là CommonJS
[build]
module_rules = [
  { type = "CommonJS", globs = ["**/*.js"] }
]